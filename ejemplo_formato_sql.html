<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo de Formato SQL en Correo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .email-container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            max-width: 900px;
            margin: 0 auto;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        h3 {
            color: #555;
            margin-top: 25px;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        li {
            background-color: #f9f9f9;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #007bff;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
        }
        .badge {
            background-color: #007bff;
            color: white;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 11px;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div class="email-container">
        <h2>Resumen de errores DriverApp GO2 — 2025-12-08</h2>
        <p>Total errores <strong>NO controlados</strong> hoy: <strong>25</strong></p>
        <p>Total errores <strong>controlados</strong> hoy: <strong>8</strong></p>
        
        <h3>NO controlados repetidos hoy (>=3 veces)</h3>
        <ul>
            <li>
                SQLSTATE[08001] SQLConnect: -30081 [IBM][CLI Driver] SQL30081N <strong style="color: red;">A communication error has been detected. Communication protocol being used: "TCP/IP". Communication API being used: "SOCKETS". Location where the error was detected: "10.0.31.7". Communication function detecting the error: "connect". Protocol specific error code(s): "10061", "*", "*".</strong> SQLSTATE=08001
                <strong class="badge">6109 veces</strong>
            </li>
            <li>
                Allowed memory size of 134217728 bytes exhausted (tried to allocate 12288 bytes) {"userId":1,"email":"ramon@gotologistics.net","exception":"[object] (Symfony\\Component\\Debug\\Exception\\FatalErrorException(code: 1): Allowed memory size of 134217728 bytes exhausted (tried to allocate 12288 bytes) at C:\\apache24\\htdocs\\driverapi\\vendor\\
                <strong class="badge">7 veces</strong>
            </li>
            <li>
                SQLSTATE[40001]: Serialization failure: -911 [IBM][CLI Driver][DB2/NT64] SQL0911N <strong style="color: red;">The current transaction has been rolled back because of a deadlock or timeout. Reason code "68".</strong> SQLSTATE=40001
                <strong class="badge">6 veces</strong>
            </li>
        </ul>
        
        <h3>NO controlados NUEVOS hoy</h3>
        <ul>
            <li>
                <strong>2025-12-08 09:13:25</strong> — SQLSTATE[23505]: Unique violation: -803 [IBM][CLI Driver][DB2/NT64] SQL0803N <strong style="color: red;">One or more values in the INSERT statement, UPDATE statement, or foreign key update caused by a DELETE statement are not valid because the primary key, unique constraint or unique index identified by "1" constrains table.</strong> SQLSTATE=23505
            </li>
        </ul>
        
        <p style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;">
            Más detalles: <a href="#">Ver logs completos</a>
        </p>
    </div>
    
    <div style="text-align: center; margin-top: 30px; color: #666;">
        <p><strong>✅ Vista previa del formato aplicado</strong></p>
        <p>Los mensajes SQL ahora aparecen en <strong style="color: red;">rojo y negrita</strong></p>
    </div>
</body>
</html>
